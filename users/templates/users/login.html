{% extends "main/base.html" %}
{% load static %}

{% block title %}Log In{% endblock %}

{% block content %}
  <div class="form-container">
    <h2>Log In</h2>

    <form method="post" class="user-form">
      {% csrf_token %}

      {# Show any non-field errors (e.g. “Invalid email or password”) #}
      {% if form.non_field_errors %}
        <div class="form-error">
          {% for err in form.non_field_errors %}
            <p>{{ err }}</p>
          {% endfor %}
        </div>
      {% endif %}

      <div class="form-group">
        {{ form.email.label_tag }}
        {{ form.email }}
        {% if form.email.errors %}
          <div class="field-error">
            {% for err in form.email.errors %}
              <p>{{ err }}</p>
            {% endfor %}
          </div>
        {% endif %}
      </div>

      <div class="form-group">
        {{ form.password.label_tag }}
        {{ form.password }}
        {% if form.password.errors %}
          <div class="field-error">
            {% for err in form.password.errors %}
              <p>{{ err }}</p>
            {% endfor %}
          </div>
        {% endif %}
      </div>

      <button type="submit" class="btn-cta">Log In</button>
    </form>

    <p class="alternate-action">
      Don’t have an account?
      <a href="{% url 'users:register_customer' %}">Sign up as Customer</a> |
      <a href="{% url 'users:register_company' %}">Sign up as Company</a>
    </p>
  </div>
{% endblock %}
